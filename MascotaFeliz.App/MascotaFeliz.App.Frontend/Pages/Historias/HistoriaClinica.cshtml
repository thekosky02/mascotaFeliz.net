@page
@model MascotaFeliz.App.Frontedn.Pages.HistoriaClinicaModel
@{
    ViewData["Title"] = "Historia Clinica";
}
<div class="container">
    <h2 class="mt-3">Historia Clinica de @Model.mascota.Nombre</h2>
    <p>fecha de creación de la historia: <span class="text-primary">@Model.historia.FechaInicial</span></p>
    
    <div class="d-flex mt-3">
        <a class="btn btn-primary mr-2" asp-page="../Visitas/CrearVisita" asp-route-historiaId="@Model.historia.Id" asp-route-mascotaId="@Model.mascota.Id">
            <img src="~/images/add-line.png" alt="Agregar Visita">
        </a>

        <a class="btn btn-info" asp-page="../Mascotas/ListaMascotas">
            <img src="~/images/arrow-go-back-fill.png" alt="Regresar">
        </a>
    </div>

    <div class="table-responsive mt-3">
        <table class="table table-striped text-center">

            <tr>
                <th>Fecha</th>
                <th>Estado de animo</th>
                <th>Veterinario</th>
                <th>Opciones</th>
            </tr>

            @foreach (var visita in Model.ListaVisitas)
            {
                <tr>
                    <td>@visita.FechaVisita</td>
                    <td>@visita.EstadoAnimo</td>
                    <td>@visita.IdVeterinario</td>

                    <td>
                        <a class="btn btn-info mx-1" type="button" data-toggle="popover" data-placement="top" data-content="Detalles Visita" data-trigger="hover" asp-page="../Visitas/DetallesVisita" asp-route-historiaId="@Model.historia.Id" asp-route-mascotaId="@Model.mascota.Id" asp-route-visitaId="@visita.Id">
                            <img src="~/images/profile-line.png" alt="Historia Clinica">
                        </a>
                    </td>
                </tr>
            }
        </table>
    </div>
</div>