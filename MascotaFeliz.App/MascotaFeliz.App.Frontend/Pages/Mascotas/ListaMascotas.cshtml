@page
@model MascotaFeliz.App.Frontend.Pages.ListaMascotasModel
@{
    ViewData["Title"] = "Lista Mascotas";
}
<div class="container">
    <h2 class="mt-3">Lista Mascotas</h2>

    <div class="d-flex justify-content-between mt-3">
        <a class="btn btn-primary" asp-page="./CrearEditarMascota">
            <img src="~/images/add-line.png" alt="Agregar Mascota">
        </a>
            
        <form class="input-group w-50" method="get">
            <input type="text" class="form-control" asp-for="@Model.NombreMascota" placeholder="Ingresar Nombre">
            <div class="input-group-append">
                <button type="submit" class="btn btn-success">
                    <img src="~/images/search-line.png" alt="Buscar">
                </button>
            </div>
        </form>
    </div>

    <div class="table-responsive mt-3">
        <table class="table table-striped text-center">

            <tr>
                <th>Nombre</th>
                <th>Especie</th>
                <th>Raza</th>
                <th>Opciones</th>
            </tr>

            @foreach (var mascota in Model.ListaMascotas)
            {
                <tr>
                    <td>@mascota.Nombre</td>
                    <td>@mascota.Especie</td>
                    <td>@mascota.Raza</td>

                    <td>
                        <div class="d-flex justify-content-center">
                            <a class="btn btn-info mx-1" type="button" data-toggle="popover" data-placement="top" data-content="Detalles mascota" data-trigger="hover" asp-page="./DetallesMascota" asp-route-mascotaId="@mascota.Id">
                                <img src="~/images/bear-smile-fill.png" alt="Detalles">
                            </a>
                            <a class="btn btn-info mx-1" type="button" data-toggle="popover" data-placement="top" data-content="Editar mascota" data-trigger="hover" asp-page="./CrearEditarMascota" asp-route-mascotaId="@mascota.Id">
                                <img src="~/images/edit-2-fill.png" alt="Editar">
                            </a>
                            <a class="btn btn-info mx-1" type="button" data-toggle="popover" data-placement="top" data-content="Historia clinica" data-trigger="hover" asp-page="../Historias/HistoriaClinica" asp-route-historiaId="@mascota.Historia.Id" asp-route-mascotaId="@mascota.Id">
                                <img src="~/images/profile-line.png" alt="Historia Clinica">
                            </a>
                            <a class="btn btn-danger mx-1" type="button" data-toggle="popover" data-placement="top" data-content="Eliminar mascota" data-trigger="hover" asp-page="./EliminarMascota" asp-route-mascotaId="@mascota.Id">
                                <img src="~/images/delete-bin-2-fill.png" alt="Eliminar">
                            </a>
                        </div>
                    </td>

                </tr>
            }
        </table>
    </div>
</div>
